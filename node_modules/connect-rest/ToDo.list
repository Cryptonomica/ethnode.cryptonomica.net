- https://www.npmjs.com/package/hapi-ending
 ehhez hasonló cucc?
 
 
 
 --- hapi cisnál ileyet: validál http paramokat is
 consumerApi.route({
          method: 'POST',
          path: '/api/v1/consumer/{applicationId}/{owner}/documents/{documentName}',
          config: {
            auth: 'consumer-auth', //TODO: also pre-check appId matches cookie
            payload: {
                output: 'stream',
                parse: true,
                allow: 'multipart/form-data'
            },
            validate: {
              payload: {
                file: Joi.object({
                  pipe: Joi.func().required()
                }).unknown().required().description('Readable stream of uploaded file (HTTP file)'),
                issueDate: Joi.date().required().description('Date of document issue'),
                issuedBy: Joi.string().required().description('Document issuer'),
                document: Joi.string().required().description('Document type'),
                reference: Joi.string().required().description('Document reference')
              },
              params: {
                applicationId: Joi.string().required().description('Application Id'),
                owner: Joi.string().only('applicant', 'coApplicant').description('Which applicant these documents are for'),
                documentName: Joi.string().required().allow('id').description('Document Name')
              }
            }
          },
          handler: function(request, reply) {